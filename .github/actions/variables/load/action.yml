name: Load Variables
description: "Load variables for use in other actions"

inputs:
  ENV_FILE: 
    description: "File name"
    required: false
    default: ${{ format('{0}.env',github.event.repository.name) }}

runs:
  using: composite
  steps:
    - name: Download variables
      uses: actions/download-artifact@v3
      with:
        name: ${{ inputs.ENV_FILE }}
      
    - name: Set variables
      id: set-variables
      shell: bash
      run: |
        echo "::group::Load Variables"
        cat ${{ inputs.ENV_FILE }} | xargs -I {} echo "{}" >> $GITHUB_ENV
        cat ${{ inputs.ENV_FILE }} | xargs -I {} echo "{}"
        echo "::endgroup::"